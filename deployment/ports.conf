# Agency Port Configuration
# This file defines port ranges for dev and prod environments.
# Source this file in deployment scripts to get the appropriate ports.

# Dev environment (default) - lower port range
# Use these ports for local development and testing
DEV_WEB_PORT=8443
DEV_WEB_INTERNAL_PORT=8080
DEV_AGENT_PORT=9000
DEV_AGENT_CODEX_PORT=9001
DEV_SCHEDULER_PORT=9010
DEV_DISCOVERY_START=9000
DEV_DISCOVERY_END=9010
DEV_REMOTE_DIR="~/agency-dev"

# Prod environment - higher port range
# Use these ports for production deployments
PROD_WEB_PORT=9443
PROD_WEB_INTERNAL_PORT=9080
PROD_AGENT_PORT=9100
PROD_AGENT_CODEX_PORT=9101
PROD_SCHEDULER_PORT=9110
PROD_DISCOVERY_START=9100
PROD_DISCOVERY_END=9110
PROD_REMOTE_DIR="~/agency"

# Helper function to set environment based on mode
# Usage: set_agency_env [dev|prod]
set_agency_env() {
    local mode="${1:-dev}"

    if [ "$mode" = "prod" ]; then
        export AG_WEB_PORT="${AG_WEB_PORT:-$PROD_WEB_PORT}"
        export AG_WEB_INTERNAL_PORT="${AG_WEB_INTERNAL_PORT:-$PROD_WEB_INTERNAL_PORT}"
        export AG_AGENT_PORT="${AG_AGENT_PORT:-$PROD_AGENT_PORT}"
        export AG_AGENT_CODEX_PORT="${AG_AGENT_CODEX_PORT:-$PROD_AGENT_CODEX_PORT}"
        export AG_SCHEDULER_PORT="${AG_SCHEDULER_PORT:-$PROD_SCHEDULER_PORT}"
        export AG_DISCOVERY_START="${AG_DISCOVERY_START:-$PROD_DISCOVERY_START}"
        export AG_DISCOVERY_END="${AG_DISCOVERY_END:-$PROD_DISCOVERY_END}"
        export REMOTE_DIR="${REMOTE_DIR:-$PROD_REMOTE_DIR}"
        export AGENCY_MODE="prod"
    else
        export AG_WEB_PORT="${AG_WEB_PORT:-$DEV_WEB_PORT}"
        export AG_WEB_INTERNAL_PORT="${AG_WEB_INTERNAL_PORT:-$DEV_WEB_INTERNAL_PORT}"
        export AG_AGENT_PORT="${AG_AGENT_PORT:-$DEV_AGENT_PORT}"
        export AG_AGENT_CODEX_PORT="${AG_AGENT_CODEX_PORT:-$DEV_AGENT_CODEX_PORT}"
        export AG_SCHEDULER_PORT="${AG_SCHEDULER_PORT:-$DEV_SCHEDULER_PORT}"
        export AG_DISCOVERY_START="${AG_DISCOVERY_START:-$DEV_DISCOVERY_START}"
        export AG_DISCOVERY_END="${AG_DISCOVERY_END:-$DEV_DISCOVERY_END}"
        export REMOTE_DIR="${REMOTE_DIR:-$DEV_REMOTE_DIR}"
        export AGENCY_MODE="dev"
    fi
}

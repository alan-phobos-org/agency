# System Test Scheduler Configuration
# Uses the same structure as smoke testing but without the
# smoke-nightly-maintenance job (that's only for smoke tests).

port: 19010

# Director URL for session tracking
director_url: http://localhost:18080

# Direct agent URL (fallback)
agent_url: http://localhost:19000

jobs:
  - name: smoke-test
    schedule: "0 0 31 2 *"  # Never auto-runs (Feb 31)
    model: haiku
    timeout: 60s
    prompt: |
      This is a smoke test. Reply with exactly: "Smoke test OK"

  - name: daily-newsletter
    schedule: "0 6 * * *"  # 06:00 UTC daily
    model: opus
    timeout: 30m
    prompt: |
      Build today's newsletter, commit it, push, and merge the resulting PR to main.

      ## Setup
      - Ensure you have the latest head of main: `git fetch origin && git checkout main && git pull`

      ## Tasks
      1. Build today's newsletter ({{.Date}})
      2. Create a new branch for the newsletter
      3. Commit the newsletter changes
      4. Push the branch
      5. Create a pull request
      6. Merge the PR to main

      When complete, provide a brief summary in <summary> tags:
      <summary>
      Newsletter status for {{.Date}}
      </summary>

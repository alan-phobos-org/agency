#!/bin/bash
# Mock Claude CLI that sleeps for 10 seconds (for cancellation testing)

# Emit init event before sleeping
echo '{"type":"system","subtype":"init","session_id":"test-session-slow","model":"sonnet"}'

sleep 10

# Emit result if we get here (task not cancelled)
echo '{"type":"assistant","message":{"content":[{"type":"text","text":"Slow task completed."}]}}'
echo '{"type":"result","subtype":"success","session_id":"test-session-slow","duration_ms":10000,"num_turns":1,"total_cost_usd":0.05}'
